\documentclass[ignorenonframetext,]{beamer}
\setbeamertemplate{caption}[numbered]
\setbeamertemplate{caption label separator}{: }
\setbeamercolor{caption name}{fg=normal text.fg}
\beamertemplatenavigationsymbolsempty
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\else % if luatex or xelatex
\ifxetex
\usepackage{mathspec}
\else
\usepackage{fontspec}
\fi
\defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\newif\ifbibliography
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{{#1}}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{{#1}}}
\newcommand{\ImportTok}[1]{{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{{#1}}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{{#1}}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{{#1}}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{{#1}}}}
\newcommand{\BuiltInTok}[1]{{#1}}
\newcommand{\ExtensionTok}[1]{{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{{#1}}}
\newcommand{\RegionMarkerTok}[1]{{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{{#1}}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{{#1}}}}
\newcommand{\NormalTok}[1]{{#1}}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight0.8\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}

% Prevent slide breaks in the middle of a paragraph:
\widowpenalties 1 10000
\raggedbottom

\AtBeginPart{
\let\insertpartnumber\relax
\let\partname\relax
\frame{\partpage}
}
\AtBeginSection{
\ifbibliography
\else
\let\insertsectionnumber\relax
\let\sectionname\relax
\frame{\sectionpage}
\fi
}
\AtBeginSubsection{
\let\insertsubsectionnumber\relax
\let\subsectionname\relax
\frame{\subsectionpage}
}

\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
\setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{0}

\title{Untitled}
\author{Alex Brown}
\date{October 30, 2018}

\begin{document}
\frame{\titlepage}

\begin{frame}{Outline}

\begin{itemize}
\tightlist
\item
  Outcomes
\item
  Data
\item
  Tools Used
\item
  Discovery Process
\item
  Changes to the Data
\item
  Analysis
\item
  Challenges
\item
  Recommendations
\end{itemize}

\end{frame}

\begin{frame}[fragile]{Outcomes}

\begin{itemize}
\tightlist
\item
  Give better understanding of \texttt{openmrs} tables and the study
  that was performed.
\item
  Show how different stages of HIV effect the blood and the body's
  ability to fight disease.
\end{itemize}

\end{frame}

\begin{frame}[fragile]{The Data}

I used relevant tables and columns from the \texttt{openmrs} database.
The tables I found important were related to the patient information and
observation information.

Useful information was sparse in the data. I was able to use between 10
and 15 percent of \textasciitilde{}11,000 instances for analysis.

\end{frame}

\begin{frame}[fragile]{Tools Used}

\begin{itemize}
\item
  \texttt{R} for analysis and connecting to \texttt{Access} database
\item
  \texttt{R} packages used: \texttt{tidyverse}, \texttt{RODBC},
  \texttt{lubridate}, \texttt{scales}
\item
  \texttt{R\ Markdown} for presentation
\item
  Tables Used:
\end{itemize}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#====data frames used====}
\NormalTok{dfs <-}\StringTok{ }\KeywordTok{sapply}\NormalTok{(.GlobalEnv, is.data.frame)}
\NormalTok{dfs <-}\StringTok{ }\NormalTok{dfs[dfs ==}\StringTok{ }\NormalTok{T]}
\KeywordTok{names}\NormalTok{(dfs)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## [1] "mrs_obs"             "mrs_encounter_type"  "mrs_encounter"      
## [4] "mrs_patient_program" "mrs_concept"         "mrs_patient"        
## [7] "mrs_program"         "mrs_tribe"
\end{verbatim}

\end{frame}

\begin{frame}[fragile]{Discovery Process}

\begin{itemize}
\tightlist
\item
  Counted \emph{patient return} and \emph{return rype} by combining
  \texttt{mrs\_encounter} with \texttt{mrs\_encounter\_type}
\item
  Found out what patients were in what programs by combining
  \texttt{mrs\_patient\_program} with \texttt{mrs\_program}
\item
  Subset-ed \texttt{mrs\_obs} into multiple tables: \texttt{df\_value},
  \texttt{df\_rash}, \texttt{df\_diagnosis}, \texttt{df\_tb}, and
  \texttt{df\_test}
\item
  Joined \texttt{mrs\_tribe} to \texttt{mrs\_patient}
\end{itemize}

\end{frame}

\begin{frame}{Discovery Process (cont'd) - Encounter Table}

\includegraphics{HealthCare_Anlaysis_forPDF_files/figure-beamer/encounter table-1.pdf}

\end{frame}

\begin{frame}[fragile]{Discovery Process (cont'd) - Encounter Table}

Closer look at \texttt{ADULTINITIAL}

\begin{verbatim}
##   patient_id encounter_type_name n
## 1         39        ADULTINITIAL 3
## 2       3952        ADULTINITIAL 1
## 3       5587        ADULTINITIAL 1
## 4       7107        ADULTINITIAL 1
\end{verbatim}

\end{frame}

\begin{frame}[fragile]{Discovery Process (cont'd) - Encounter Table}

Closer look at patients who were noted as \texttt{ADULTINITIAL}

\begin{verbatim}
##   patient_id encounter_type_name n
## 1         39        ADULTINITIAL 3
## 2         39         ADULTRETURN 8
## 3       3952        ADULTINITIAL 1
## 4       5587        ADULTINITIAL 1
## 5       5587         ADULTRETURN 6
## 6       5587          PEDSRETURN 1
## 7       7107        ADULTINITIAL 1
## 8       7107         ADULTRETURN 2
\end{verbatim}

\end{frame}

\begin{frame}[fragile]{Discovery Process (cont'd) - Encounter Table}

Patient Return Spread (w/o \texttt{ADULTINITIAL})

\begin{verbatim}
##    number_of_returns freq_patients_returning
## 1                  1                     589
## 2                  2                    1398
## 3                  3                    1327
## 4                  4                    1019
## 5                  5                     243
## 6                  6                      69
## 7                  7                      20
## 8                  8                       9
## 9                  9                       5
## 10                10                       3
## 11                11                       1
\end{verbatim}

\end{frame}

\begin{frame}[fragile]{Discovery Process (cont'd) - Program Table}

How Many People in Each Program

\begin{verbatim}
##      program_in    n freq
## 1   HIV Program 2678 0.77
## 2 Both Programs  422 0.12
## 3    TB Program  399 0.11
\end{verbatim}

\end{frame}

\begin{frame}[fragile]{Discovery Process (cont'd) - Observation Table}

\begin{itemize}
\tightlist
\item
  Joined to the \texttt{mrs\_concept} table by \texttt{concept\_name}
  and \texttt{value\_coded}
\item
  Subset-ed \texttt{mrs\_obs} into multiple tables: \texttt{df\_value},
  \texttt{df\_rash}, \texttt{df\_diagnosis}, \texttt{df\_tb}, and
  \texttt{df\_test}
\end{itemize}

\end{frame}

\begin{frame}[fragile]{Discovery Process (cont'd) - Observation Table}

HIV Discrepancies

\begin{verbatim}
##   encounter_id n
## 1         6379 2
\end{verbatim}

\begin{verbatim}
##   encounter_id patient_id hiv_stage
## 1         6379       5830         1
## 2         6379       5830         3
\end{verbatim}

\end{frame}

\begin{frame}[fragile]{Discovery Process (cont'd) - Observation Table}

Counted \texttt{numeric} concept types \& Removed \texttt{concept\_name}
with few instances

\begin{verbatim}
##                 concept_name     n
## 1                     temp_c 12401
## 2                  weight_kg 12360
## 3                 heart_rate 12345
## 4    blood_oxygen_saturation 12328
## 5                        sbp 11694
## 6                        dbp 11687
## 7              helper_tcells  2323
## 8          pct_helper_tcells  2304
## 9              killer_tcells  2298
## 10                        hb  1515
## 11           leukocyte_count  1514
## 12            blood_platelet  1510
## 13  alanine_aminotransferase  1506
## 14                       mcv  1504
## 15 absolute_lymphocyte_count  1412
\end{verbatim}

\end{frame}

\begin{frame}{Discovery Process (cont'd) - Patient Table}

\includegraphics{HealthCare_Anlaysis_forPDF_files/figure-beamer/patient table-1.pdf}

\end{frame}

\begin{frame}[fragile]{Changes to the Data}

\begin{itemize}
\tightlist
\item
  Combined all the tables and information discussed to the
  \texttt{mrs\_encounter} table to see what a patients readings were at
  that point in time
\item
  Removed anything that was not \texttt{ADULTRETURN} and one younger
  than 18
\end{itemize}

\end{frame}

\begin{frame}{Analysis}

\begin{itemize}
\tightlist
\item
  Looked at T-Cells at different Stages of HIV (normal level is 500 -
  1500)
\item
  Immune system failure by reviewing other diagnosis at different stages
  of HIV
\end{itemize}

\end{frame}

\begin{frame}{Analysis (cont'd) - T-Cells}

\includegraphics{HealthCare_Anlaysis_forPDF_files/figure-beamer/anlaysis 1-1.pdf}

\end{frame}

\begin{frame}{Analysis (cont'd) - T-Cells}

\includegraphics{HealthCare_Anlaysis_forPDF_files/figure-beamer/analysis 2-1.pdf}

\end{frame}

\begin{frame}{Analysis (cont'd) - Other Diagnoses}

\includegraphics{HealthCare_Anlaysis_forPDF_files/figure-beamer/analysis 3-1.pdf}

\end{frame}

\begin{frame}{Challenges}

\begin{itemize}
\tightlist
\item
  Structure of Data
\item
  Missing data
\item
  Inconsistent Data
\item
  Finding Useful Info
\item
  Accuracy and Consistency
\end{itemize}

\end{frame}

\begin{frame}{Recommendations}

Educate tribes how HIV can effect the body's immune system and ability
to fight infection and disease. Create a long term study to further
investigate and emphasize the affects of HIV.

\end{frame}

\end{document}
