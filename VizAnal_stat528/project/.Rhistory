url <- "https://github.com/rfordatascience/tidytuesday/blob/master/data/2018-07-31/week18_dallas_animals.xlsx"
destfile <- "week18_dallas_animals.xlsx"
download.file(url, destfile)
excel_sheets(destfile)
library(readxl)
suppressPackageStartupMessages(library(tidyverse, warn.conflicts = F))
excel_sheets(destfile)
excel_sheets(week18_dallas_animals.xlsx)
excel_sheets("week18_dallas_animals.xlsx")
excel_sheets("week18_dallas_animals.xlsx")
colnames(read_excel("week18_dallas_animals.xlsx"))
colnames(read_excel("week18_dallas_animals.xlsx"), sheet = "simple")
excel_sheets("week18_dallas_animals.xlsx")
colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple"))
paste0(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple")), sep = ",")
grepl(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw")), colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple")))
all(unlist(Map(`==`, list(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple"))), list(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))))))
data.frame(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple")))
data.frame(colname_simple = colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple"))) %>%
left_join(data.frame(colname_simple = colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw")),
colname_raw = colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))),
by = "colname_simple")
data.frame(colname_simple = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple")))) %>%
left_join(data.frame(colname_simple = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))),
colname_raw = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw")))),
by = "colname_simple")
suppressWarnings(data.frame(colname_simple = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple")))) %>%
left_join(data.frame(colname_simple = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))),
colname_raw = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw")))),
by = "colname_simple"))
nrow(read_excel("week18_dallas_animals.xlsx", sheet = "simple")) == read_excel("week18_dallas_animals.xlsx", sheet = "raw")
nrow(read_excel("week18_dallas_animals.xlsx", sheet = "simple")) == nrow(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))
dallas_animals <- read_excel("week18_dallas_animals.xlsx", sheet = "raw")
View(dallas_animals)
dallas_animals <- read_excel("week18_dallas_animals.xlsx", sheet = "raw", na = "NA")
library(readxl)
suppressPackageStartupMessages(library(tidyverse,
warn.conflicts = F))
excel_sheets("week18_dallas_animals.xlsx")
suppressWarnings(data.frame(colname_simple = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple")))) %>%
left_join(data.frame(colname_simple = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))),
colname_raw = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw")))),
by = "colname_simple"))
nrow(read_excel("week18_dallas_animals.xlsx", sheet = "simple")) == nrow(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))
glimpse(dallas_animals)
View(dallas_animals)
dallas_animals %>% count(intake_date)
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) %>%
geom_line()
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line()
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth()
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'lm')
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'auto')
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'loess')
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
xlab("Intake Date") +
ylab("Number of Animals")
nrow(dallas_animals)
dallas_animals %>% count(animal_type) %>%   #count the number of animals
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3)
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n))
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3)
library(scales, warn.conflicts = F)
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3)
format((nrow(dallas_animals), big.mark = ",", scientific = FALSE, trim = F)
format(nrow(dallas_animals), big.mark = ",", scientific = FALSE, trim = F)
