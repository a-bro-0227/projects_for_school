ggplot(aes(x = intake_date, y = n)) %>%
geom_line()
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line()
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth()
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'lm')
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'auto')
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'loess')
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
xlab("Intake Date") +
ylab("Number of Animals")
nrow(dallas_animals)
dallas_animals %>% count(animal_type) %>%   #count the number of animals
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3)
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n))
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3)
library(scales, warn.conflicts = F)
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3)
format((nrow(dallas_animals), big.mark = ",", scientific = FALSE, trim = F)
format(nrow(dallas_animals), big.mark = ",", scientific = FALSE, trim = F)
View(dallas_animals)
levels(as.factor(dallas_animals$reason))
dallas_dogs <- dallas_animals %>% filter(animal_type == "DOG")
library(readxl)
library(scales, warn.conflicts = F)
suppressPackageStartupMessages(library(tidyverse,
warn.conflicts = F))
dallas_dogs <- dallas_animals %>% filter(animal_type == "DOG")
View(dallas_dogs)
dallas_animals %>% count(animal_type, intake_type, reason)
dallas_animals %>% count(animal_type, intake_type, reason) %>% filter(!is.na(reason))
data.frame(dallas_animals %>% count(animal_type, intake_type, reason) %>% filter(!is.na(reason)))
data.frame(dallas_animals %>% count(animal_type, reason) %>% filter(!is.na(reason)))
data.frame(dallas_animals %>% count(intake_type))
data.frame(dallas_animals %>% count(intake_type, outcome_type))
data.frame(dallas_animals %>% count(outcome_type))
dallas_dogs %>%
ggplot(aes(x = animal_breed)) %>%
geom_bar()
dallas_dogs %>%
ggplot(aes(x = animal_breed)) +
geom_bar()
dallas_dogs %>% count(animal_breed)
data.frame(dallas_dogs %>% count(animal_breed) %>% arrange(desc(n)))
dallas_dogs %>% count(animal_breed) %>% top_n(10)
dallas_dogs %>% count(animal_breed) %>% top_n(n = 10, wt = n)
dallas_dogs %>% count(animal_breed) %>% arrange(desc(n)) %>% top_n(n = 10, wt = n)
dallas_dogs %>%
count(animal_breed) %>%
arrange(desc(n)) %>%
top_n(n = 10, wt = n)
dallas_dogs %>%
count(animal_breed) %>%
arrange(desc(n)) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = animal_breed)) +
geom_bar()
dallas_dogs %>%
count(animal_breed) %>%
arrange(desc(n)) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = animal_breed)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals")
dallas_dogs %>%
count(animal_breed) %>%
arrange(desc(n)) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = animal_breed, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals")
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals")
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals") +
coord_flip()
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals") +
coord_flip()
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
hjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals") +
coord_flip()
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
hjust = -0.1) +
xlab("Animal Breed") +
ylab("Number of Animals") +
coord_flip()
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals")
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals") +
theme(axis.text.x = element_text(angle = 45))
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
xlab("Animal Breed") +
ylab("Number of Animals") +
theme(axis.text.x = element_text(angle = 90))
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.1) +
xlab("Animal Breed") +
ylab("Number of Animals") +
theme(axis.text.x = element_text(angle = 90))
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.1) +
ggtitle("Top 10 Dog Breed Intake") +
xlab("Animal Breed") +
ylab("Number of Animals") +
theme(plot.title = face="bold.italic"),
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.1) +
ggtitle("Top 10 Dog Breed Intake") +
xlab("Animal Breed") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold.italic"),
axis.text.x = element_text(angle = 90))
dallas_dogs %>%
count(animal_breed) %>%
top_n(n = 10, wt = n) %>%
ggplot(aes(x = reorder(animal_breed, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.1) +
ggtitle("Top 10 Dog Breed Intake") +
xlab("Animal Breed") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"),
axis.text.x = element_text(angle = 90))
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggplot("Animal Intake Types") +
xlab("Animal Type") +
ylab("Number of Animals")
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggtitle("Animal Intake Types") +
xlab("Animal Type") +
ylab("Number of Animals")
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggtitle("Animal Intake Types") +
xlab("Animal Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>%
ggplot(aes(x = intake_type)) +
geom_bar()
dallas_animals$intake_date - dallas_animals$outcome_date
difftime(dallas_animals$intake_date, dallas_animals$outcome_date, units = "days")
library(readxl)
library(scales, warn.conflicts = F)
suppressPackageStartupMessages(library(tidyverse,
warn.conflicts = F))
# url <- "https://github.com/rfordatascience/tidytuesday/blob/master/data/2018-07-31/week18_dallas_animals.xlsx"
# destfile <- "week18_dallas_animals.xlsx"
# download.file(url, destfile)
excel_sheets("week18_dallas_animals.xlsx")
suppressWarnings(data.frame(colname_simple = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "simple")))) %>%
left_join(data.frame(colname_simple = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))),
colname_raw = as.character(colnames(read_excel("week18_dallas_animals.xlsx", sheet = "raw")))),
by = "colname_simple"))
nrow(read_excel("week18_dallas_animals.xlsx", sheet = "simple")) == nrow(read_excel("week18_dallas_animals.xlsx", sheet = "raw"))
dallas_animals <- read_excel("week18_dallas_animals.xlsx", sheet = "raw", na = "NA")
glimpse(dallas_animals)
dallas_animals %>% count(intake_date) %>%
ggplot(aes(x = intake_date, y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
ggtitle("Intake Time Series") +
xlab("Intake Date") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>% count(animal_type) %>%   #count the number of animals
ggplot(aes(x = animal_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggtitle("Animal Intake Types") +
xlab("Animal Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
View(dallas_animals)
dallas_animals %>% count(outcome_date) %>%
ggplot(aes(x = outcome_date, y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
ggtitle("Intake Time Series") +
xlab("Intake Date") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>% filter(!is.na(outcome_date)) %>% count(outcome_date) %>%
ggplot(aes(x = outcome_date, y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
ggtitle("Intake Time Series") +
xlab("Intake Date") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
library(lubridate)
dallas_animals %>% filter(!is.na(outcome_date)) %>% count(month(outcome_date))
dallas_animals %>% filter(!is.na(outcome_date)) %>% count(month(outcome_date)) %>%
ggplot(aes(x = month(outcome_date), y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
ggtitle("Intake Time Series") +
xlab("Intake Date") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>% filter(!is.na(outcome_date)) %>% count(month(outcome_date))
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(month(outcome_date), label = T)
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(month = month(outcome_date)) %>%
ggplot(aes(x = month(outcome_date), y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
ggtitle("Intake Time Series") +
xlab("Intake Date") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(month = month(outcome_date))
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(outcome_month = month(outcome_date, abbr = T))
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(outcome_month = month(outcome_date, label = T, abbr = T)
dallas_animals %>%
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(outcome_month = month(outcome_date, label = T, abbr = T))
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(outcome_month = month(outcome_date, label = T, abbr = T)) %>%
ggplot(aes(x = outcome_month, y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
ggtitle("Intake Time Series") +
xlab("Intake Date") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(outcome_month = month(outcome_date, label = T, abbr = T))
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
count(outcome_month = month(outcome_date, label = T, abbr = T)) %>%
ggplot(aes(x = outcome_month, y = n)) +
geom_bar(stat = "identity") +
geom_smooth(method = 'auto') +
ggtitle("Intake Time Series") +
xlab("Intake Date") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
mutate(outcome_month = month(outcome_date, label = T, abbr = T),
outcome_year = year(outcome_date)) %>%
group_by(outcome_month, outcome_year) %>%
summarize(n = n())
dallas_animals %>%
filter(!is.na(outcome_date)) %>%
mutate(outcome_month = month(outcome_date, label = T, abbr = T),
outcome_year = year(outcome_date)) %>%
group_by(outcome_year, outcome_month) %>%
summarize(n = n())
dallas_animals %>%
ggplot(aes(x = intake_type)) +
geom_bar()
dallas_animals %>% filter(!is.na(outcome_date)) %>% count(outcome_date) %>%
ggplot(aes(x = outcome_date, y = n)) +
geom_line() +
geom_smooth(method = 'auto') +
ggtitle("Outcome Time Series") +
xlab("Outcome Date") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>% count(outcome_type) %>%   #count the number of animals
ggplot(aes(x = outcome_type, y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggtitle("Animal Intake Types") +
xlab("Animal Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"))
dallas_animals %>% count(outcome_type) %>%   #count the number of animals
ggplot(aes(x = reorder(outcome_type, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggtitle("Outcome Types") +
xlab("Outcome Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"),
axis.text.x = element_text(angle = 90))
dallas_animals %>% count(outcome_type) %>%   #count the number of animals
ggplot(aes(x = reorder(outcome_type, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggtitle("Outcome Types") +
xlab("Outcome Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold"),
axis.text.x = element_text(angle = 45))
dallas_animals %>% count(outcome_type) %>%   #count the number of animals
ggplot(aes(x = reorder(outcome_type, -n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggtitle("Outcome Types") +
xlab("Outcome Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold")) +
coord_flip()
dallas_animals %>% count(outcome_type) %>%   #count the number of animals
ggplot(aes(x = reorder(outcome_type, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.3) +
ggtitle("Outcome Types") +
xlab("Outcome Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold")) +
coord_flip()
dallas_animals %>% count(outcome_type) %>%   #count the number of animals
ggplot(aes(x = reorder(outcome_type, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9)) +
ggtitle("Outcome Types") +
xlab("Outcome Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold")) +
coord_flip()
dallas_animals %>% count(outcome_type) %>%   #count the number of animals
ggplot(aes(x = reorder(outcome_type, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = -0.1) +
ggtitle("Outcome Types") +
xlab("Outcome Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold")) +
coord_flip()
dallas_animals %>% count(outcome_type) %>%   #count the number of animals
ggplot(aes(x = reorder(outcome_type, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = 0.1) +
ggtitle("Outcome Types") +
xlab("Outcome Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold")) +
coord_flip()
dallas_animals %>% count(intake_type) %>%   #count the number of animals
ggplot(aes(x = reorder(intake_type, n), y = n)) +
geom_bar(stat = "identity") +             #create a bar graph
geom_text(aes(label = comma(n)),          #add labels to the graph with a 1,000's comma
position = position_dodge(0.9),
vjust = 0.1) +
ggtitle("Intake Types") +
xlab("Intake Type") +
ylab("Number of Animals") +
theme(plot.title = element_text(face="bold")) +
coord_flip()
dallas_animals <- dallas_animals %>% mutate(total_time = difftime(outcome_date, intake_date, units = "days"))
mean(dallas_animals$total_time, na.rm = T)
dallas_animals %>% group_by(outcome_type) %> summarize(avg_time = round(mean(dallas_animals$total_time, na.rm = T), 2))
dallas_animals %>% group_by(outcome_type) %>% summarize(avg_time = round(mean(dallas_animals$total_time, na.rm = T), 2))
dallas_animals %>% group_by(outcome_type) %>% summarize(avg_time = round(mean(total_time, na.rm = T), 2))
