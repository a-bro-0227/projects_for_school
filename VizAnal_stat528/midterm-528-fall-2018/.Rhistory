library(tidyverse)
gss <- readRDS("gss.rds")
nrow(gss)
max(table(gss$YEAR))
which.max(table(gss$YEAR))
gss %>% ggplot(aes(x = YEAR)) + geom_bar()
library(tidyverse)
gss <- readRDS("gss.rds")
View(gss)
gss %>%
count(YEAR)
gss %>%
count(YEAR) %>%
filter(n == max(n))
gss %>%
count(YEAR) %>%
arrange(desc(n))
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) %>%
geom_line()
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_line()
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_line() +
scale_x_date(breaks = "1 year")
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_line() +
scale_x_continuous(breaks = "1 year")
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_line() +
scale_x_continuous(breaks = 1)
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line()
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_y_continuous(labels = comma) +
ggtitle("Interviews by Year") +
xlab("Number of Interviews") +
theme(axis.text.x = element_text(angle = 90))
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_y_continuous(labels = "comma") +
ggtitle("Interviews by Year") +
xlab("Number of Interviews") +
theme(axis.text.x = element_text(angle = 90))
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
ggtitle("Interviews by Year") +
xlab("Number of Interviews") +
theme(axis.text.x = element_text(angle = 90))
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
ggtitle("Interviews by Year") +
ylab("Number of Interviews") +
theme(axis.text.x = element_text(angle = 90))
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
ggtitle("Interviews by Year") +
ylab("Number of Interviews")
min(gss$YEAR)
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_y_continuous(breaks = seq(min(YEAR), max(YEAR), 1)) +
ggtitle("Interviews by Year") +
ylab("Number of Interviews")
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_y_continuous(breaks = seq(min(gss$YEAR), max(gss$YEAR), 1)) +
ggtitle("Interviews by Year") +
ylab("Number of Interviews")
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(gss$YEAR), max(gss$YEAR), 1)) +
ggtitle("Interviews by Year") +
ylab("Number of Interviews")
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(gss$YEAR), max(gss$YEAR), 1)) +
ggtitle("Interviews by Year") +
ylab("Number of Interviews") +
theme(axis.text.x = element_text(angle = 90))
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(gss$YEAR), max(gss$YEAR), 1), minor_breaks = seq(min(gss$YEAR), max(gss$YEAR), 1)) +
ggtitle("Interviews by Year") +
ylab("Number of Interviews") +
theme(axis.text.x = element_text(angle = 90))
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(gss$YEAR), max(gss$YEAR), 1), minor_breaks = seq(min(gss$YEAR), max(gss$YEAR), 1)) +
ggtitle("Interviews by Year") +
ylab("Number of Interviews") +
theme(axis.text.x = element_text(angle = 45))
gss %>%
count(YEAR) %>%
ggplot(aes(x = YEAR, y = n)) +
geom_point() +
geom_line() +
scale_x_continuous(breaks = seq(min(gss$YEAR), max(gss$YEAR), 1), minor_breaks = seq(min(gss$YEAR), max(gss$YEAR), 1)) +
ggtitle("Interviews by Year") +
ylab("Number of Interviews") +
theme(axis.text.x = element_text(angle = 90))
division <- read.csv("division.csv", stringsAsFactors = F)
View(division)
division %>%
ggplot(aes(x = long, y = lat)) +
geom_path(aes(group = group)) +    #for boarders
geom_polygon(aes(group = group))
division %>%
ggplot(aes(x = long, y = lat)) +
geom_path(aes(group = order))    #for boarders
division %>%
ggplot(aes(x = long, y = lat)) +
geom_path(aes(group = group))    #for boarders
division %>% filter(YEAR = 2016) %>%
ggplot(aes(x = long, y = lat)) +
geom_path(aes(group = group))    #for boarders
division %>% filter(YEAR == 2016) %>%
ggplot(aes(x = long, y = lat)) +
geom_path(aes(group = group))    #for boarders
division %>%
ggplot(aes(x = long, y = lat)) +
geom_path(aes(group = group))    #for boarders
gss %>%
count(DEGREE)
gss %>% mutate(DEGREE = gsub("DK|IAP", NA, DEGREE)) %>%
count(DEGREE)
gss %>%
#mutate(DEGREE = gsub("DK|IAP", NA, DEGREE)) %>%
count(DEGREE)
gss %>%
mutate(DEGREE = gsub("DK|IAP", NA, DEGREE)) %>%
count(DEGREE)
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
count(DEGREE)
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
group_by(DEGREE) %>%
summarize(n = n, freq = n / sum(n))
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
group_by(DEGREE) %>%
summarize(n = n(), freq = n / sum(n))
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
count(DEGREE) %>%
mutate(freq = n / sum(n))
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
count(DEGREE) %>%
mutate(freq = n / sum(n),
DEGREE = reorder(DEGREE, levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE")))
?reorder
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
count(DEGREE) %>%
mutate(freq = n / sum(n),
DEGREE = reorder(DEGREE, levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE", NA)))
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
count(DEGREE) %>%
mutate(freq = n / sum(n),
DEGREE = recode_factor(DEGREE, levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE", NA)))
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
count(DEGREE) %>%
mutate(freq = n / sum(n),
DEGREE = reorder(DEGREE, levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE", NA)))
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
count(DEGREE) %>%
mutate(freq = n / sum(n),
DEGREE = reorder(DEGREE, X = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE", NA)))
gss %>%
mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE)) %>%
count(DEGREE) %>%
mutate(freq = n / sum(n),
DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE", NA)))
gss <- gss %>% mutate(DEGREE = gsub("DK|IAP|NA", NA, DEGREE))
gss %>%
count(DEGREE) %>%
mutate(freq = n / sum(n),
DEGREE = factor(DEGREE, levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE", NA)))
gss$DEGREE <- factor(gss$DEGREE, levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE", NA))
gss %>%
count(DEGREE) %>%
mutate(freq = n / sum(n))
gss %>%
ggplot(aes(x = DEGREE, y = AGE)) +
geom_boxplot()
gss %>%
ggplot(aes(x = DEGREE, y = AGE)) +
geom_boxplot()
gss$DEGREE <- factor(gss$DEGREE, levels = c("LT HIGH SCHOOL", "HIGH SCHOOL", "JUNIOR COLLEGE", "BACHELOR", "GRADUATE"))
gss %>%
count(DEGREE) %>%
mutate(freq = n / sum(n))
gss %>%
ggplot(aes(x = DEGREE, y = AGE)) +
geom_boxplot()
sum(is.na(gss$AGE))
nrow(is.na(gss$AGE))
sum(is.na(gss$AGEKDBRN))
gss %>%
group_by(SEX) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T))
gss %>%
group_by(SEX) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN))
gss %>%
group_by(SEX) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T))
gss %>%
group_by(SEX) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T), STD.AGEKDBRN = sd(AGEKDBRN, na.rm = T))
gss %>% filter(!is.na(AGE)) +
ggplot(aes(x = DEGREE, y = AGE)) +
geom_boxplot()
gss %>% filter(!is.na(AGE)) %>%
ggplot(aes(x = DEGREE, y = AGE)) +
geom_boxplot()
class(gss$AGE)
gss %>% filter(!is.na(AGE)) %>%
ggplot(aes(x = DEGREE, y = as.numeric(AGE))) +
geom_boxplot()
gss %>% mutate(AGE = as.numeric(AGE)) %>% filter(!is.na(AGE)) %>%
ggplot(aes(x = DEGREE, y = AGE)) +
geom_boxplot()
gss %>% mutate(AGE = as.numeric(AGE)) %>% filter(!is.na(AGE)) %>%
ggplot(aes(x = DEGREE, y = AGE)) +
geom_boxplot() +
ggtitle("AGE by DEGREE")
gss %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T),
STD.AGEKDBRN = sd(AGEKDBRN, na.rm = T))
gss %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T))
gss %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T)) %>%
spread(key = SEX, value = AVG.AGEKDBRN)
gss %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T),
NUMB.RECORDS = n(na.rm = T))
gss %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T),
NUMB.RECORDS = n(!is.na(AGEKDBRN)))
gss %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T),
NUMB.RECORDS = n()))
gss %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T),
NUMB.RECORDS = n())
gss %>%
filter(!is.na(AGEKDBRN)) %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T),
NUMB.RECORDS = n())
gss %>%
filter(!is.na(AGEKDBRN)) %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T)) %>%
ggplot(aes(x = YEAR, y = AVG.AGEKDBRN, color = DEGREE)) +
geom_line() +
facet_wrap( ~ SEX)
gss %>%
filter(!is.na(AGEKDBRN), !is.na(DEGREE)) %>%
group_by(YEAR, SEX, DEGREE) %>%
summarise(AVG.AGEKDBRN = mean(AGEKDBRN, na.rm = T)) %>%
ggplot(aes(x = YEAR, y = AVG.AGEKDBRN, color = DEGREE)) +
geom_line() +
facet_wrap( ~ SEX)
View(division)
levels(as.factor(division$REGION))
levels(as.factor(division$REGION.NAME))
levels(as.factor(gss$REGION))
